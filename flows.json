[{"id":"fa869c1e.80162","type":"tab","label":"Lüftungssteuerung","disabled":false,"info":""},{"id":"5769a768.c37bb8","type":"tab","label":"Raspberry Befehle","disabled":false,"info":""},{"id":"eb4be206.d09e5","type":"tab","label":"MQTT Broker","disabled":false,"info":""},{"id":"cec71080.4d502","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#0094CE","edited":false},"page-titlebar-backgroundColor":{"value":"#0094CE","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#ffffff","edited":false},"group-textColor":{"value":"#1bbfff","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#0094ce","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Lüftungssteuerung Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD.MM.YYYY","sizes":{"sx":40,"sy":40,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"45111b29.92cd24","type":"ui_tab","name":"Home","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"1bd6dd20.e55003","type":"ui_group","name":"Innen","tab":"45111b29.92cd24","order":1,"disp":true,"width":"6","collapse":false},{"id":"70a3ffb5.e4f3","type":"debug","z":"eb4be206.d09e5","name":"MQTT Broker Debug","active":true,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":300,"y":40,"wires":[]},{"id":"b473085f.afff78","type":"aedes broker","z":"eb4be206.d09e5","name":"MQTT Broker","mqtt_port":"1883","mqtt_ws_bind":"port","mqtt_ws_port":"","mqtt_ws_path":"","cert":"","key":"","certname":"","keyname":"","dburl":"","usetls":false,"x":100,"y":40,"wires":[["70a3ffb5.e4f3"]]},{"id":"809ac089.454cc","type":"exec","z":"5769a768.c37bb8","command":"sudo reboot","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Reboot","x":340,"y":260,"wires":[[],[],[]]},{"id":"161ef354.7a1cdd","type":"inject","z":"5769a768.c37bb8","name":"Reboot starten","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":150,"y":260,"wires":[["809ac089.454cc"]]},{"id":"36784e8a.dd0772","type":"inject","z":"5769a768.c37bb8","name":"RPi ausschalten","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":150,"y":340,"wires":[["6ac0d212.8de2ac"]]},{"id":"6ac0d212.8de2ac","type":"exec","z":"5769a768.c37bb8","command":"sudo shutdown -h now","addpay":true,"append":"","useSpawn":"true","timer":"","oldrc":false,"name":"Poweroff","x":340,"y":340,"wires":[[],[],[]]},{"id":"6d59259f.b16c3c","type":"Bme280","z":"fa869c1e.80162","name":"Innenfühler","bus":"1","address":"0x76","topic":"bme280","extra":false,"x":310,"y":220,"wires":[["a9c08f3a.9989f","3316a387.d9bd5c","8481fc19.0575b","74031120.8e076"]]},{"id":"1e3d4967.f06817","type":"inject","z":"fa869c1e.80162","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"10","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":130,"y":220,"wires":[["6d59259f.b16c3c"]]},{"id":"a9c08f3a.9989f","type":"change","z":"fa869c1e.80162","name":"Temperatur filtern","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.temperature_C","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":180,"wires":[["d6d5356f.77c718"]]},{"id":"3316a387.d9bd5c","type":"change","z":"fa869c1e.80162","name":"Feuchtigkeit filtern","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.humidity","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":220,"wires":[["cded6a71.e586c8"]]},{"id":"8481fc19.0575b","type":"change","z":"fa869c1e.80162","name":"Luftdruck filtern","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.pressure_hPa","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":520,"y":260,"wires":[["cf6ea41a.d09d58"]]},{"id":"d6d5356f.77c718","type":"ui_gauge","z":"fa869c1e.80162","name":"Temperatur","group":"1bd6dd20.e55003","order":1,"width":0,"height":0,"gtype":"gage","title":"Temperatur","label":"°C","format":"{{msg.payload | number:2}}","min":"-20","max":"50","colors":["#ca3838","#00e626","#ca3838"],"seg1":"10","seg2":"25","x":1010,"y":180,"wires":[]},{"id":"cded6a71.e586c8","type":"ui_gauge","z":"fa869c1e.80162","name":"Feuchtigkeit","group":"1bd6dd20.e55003","order":2,"width":0,"height":0,"gtype":"wave","title":"Feuchtigkeit","label":"%","format":"{{msg.payload | number:2}}","min":"0","max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1010,"y":220,"wires":[]},{"id":"cf6ea41a.d09d58","type":"ui_gauge","z":"fa869c1e.80162","name":"Luftdruck","group":"1bd6dd20.e55003","order":4,"width":0,"height":0,"gtype":"gage","title":"Luftdruck","label":"hPa","format":"{{msg.payload | number:2}}","min":"500","max":"2000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1000,"y":260,"wires":[]},{"id":"2bb0ae3d.c38c22","type":"function","z":"fa869c1e.80162","name":"Dew-point calculator","func":"function dewPointFast(celsius, humidity) {\n    if ( typeof celsius === 'string' ) celsius = parseFloat(celsius)\n    if ( typeof humidity === 'string' ) humidity = parseFloat(humidity)\n    var a = 17.271;\n    var b = 237.7;\n    var temp = Math.log(humidity * 0.01) + ((a * celsius) / (b + celsius));\n    var Td = (b * temp) / (a - temp);\n    return Td;\n}\nmsg.payload = dewPointFast(msg.payload[0],msg.payload[1]);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":300,"wires":[["79c09086.3dbf1"]]},{"id":"79c09086.3dbf1","type":"ui_gauge","z":"fa869c1e.80162","name":"Taupunkt","group":"1bd6dd20.e55003","order":3,"width":0,"height":0,"gtype":"gage","title":"Taupunkt","label":"°C","format":"{{msg.payload | number:2}}","min":"-20","max":"50","colors":["#38ca38","#fcff33","#ca3838"],"seg1":"10","seg2":"15","x":1000,"y":300,"wires":[]},{"id":"74031120.8e076","type":"split","z":"fa869c1e.80162","name":"","splt":"\\n","spltType":"str","arraySplt":"4","arraySpltType":"len","stream":false,"addname":"","x":500,"y":300,"wires":[["f36527e8.91d818"]]},{"id":"f36527e8.91d818","type":"join","z":"fa869c1e.80162","name":"","mode":"custom","build":"array","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":false,"timeout":"","count":"","reduceRight":false,"reduceExp":"","reduceInit":"","reduceInitType":"","reduceFixup":"","x":630,"y":300,"wires":[["2bb0ae3d.c38c22"]]}]